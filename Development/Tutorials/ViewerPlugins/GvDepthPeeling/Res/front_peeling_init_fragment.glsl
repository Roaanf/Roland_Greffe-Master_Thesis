////////////////////////////////////////////////////////////////////////////////
//
// Fragment Shader
//
// Depth Peeling : initialization program
//
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Program
////////////////////////////////////////////////////////////////////////////////

void main()
{
	float zWin = gl_FragCoord.z / gl_FragCoord.w;
	float zCam = ( 2.0 * zWin - gl_ProjectionMatrix[ 3 ][ 2 ] ) / ( 1.0 - gl_ProjectionMatrix[ 2 ][ 2 ] );
	
	gl_FragColor.r = zCam;
}
