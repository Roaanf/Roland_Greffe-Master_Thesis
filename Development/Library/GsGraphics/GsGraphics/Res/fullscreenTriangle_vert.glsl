////////////////////////////////////////////////////////////////////////////////
//
// VERTEX SHADER
//
// Fullscreen triangle rendering
//
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// VERSION
////////////////////////////////////////////////////////////////////////////////

#version 400 // compatibility

////////////////////////////////////////////////////////////////////////////////
// EXTENSION
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// INCLUDE
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// DEFINE AND CONSTANT SECTION
////////////////////////////////////////////////////////////////////////////////

// Texture
#define GS_USE_TEXTURING

////////////////////////////////////////////////////////////////////////////////
// INPUT
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// UNIFORM
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// OUTPUT
////////////////////////////////////////////////////////////////////////////////

#ifdef GS_USE_TEXTURING
// Texture coordinate
out vec2 _texCoordV;
#endif

////////////////////////////////////////////////////////////////////////////////
// PROGRAM
////////////////////////////////////////////////////////////////////////////////
void main()
{
	// (x,y) points lie in (-1,-1)
	float x = -1.0 + float( ( gl_VertexID & 1 ) << 2 );
	float y = -1.0 + float( ( gl_VertexID & 2 ) << 1 );
	
#ifdef GS_USE_TEXTURING
	_texCoordV.x = x * 0.5 + 0.5; // written in FMAD-way
	_texCoordV.y = y * 0.5 + 0.5; // written in FMAD-way
#endif
	
	// Send position to clip space
	gl_Position = vec4( x, y, 0.0, 1.0 );
}
