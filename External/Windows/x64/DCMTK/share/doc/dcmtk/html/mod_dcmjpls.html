<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>OFFIS DCMTK: dcmjpls: a compression/decompression library and utility apps</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">OFFIS DCMTK
   &#160;<span id="projectnumber">Version 3.6.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">dcmjpls: a compression/decompression library and utility apps </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This module contains classes that convert between uncompressed and JPEG-LS compressed representations (transfer syntaxes) of a DICOM image object. Both lossless and near-lossless JPEG-LS processes are supported. This module implements a family of codecs that are derived from class <a class="el" href="classDcmCodec.html" title="abstract base class for a codec object that can be registered in dcmdata and performs transfer syntax...">DcmCodec</a> and can be registered in the codec list maintained in module dcmdata.</p>
<p>The main interface classes are: </p>
<ul>
<li><b><a class="el" href="classDJLSEncoderRegistration.html" title="singleton class that registers encoders for all supported JPEG-LS processes.">DJLSEncoderRegistration</a></b> </li>
<li><b><a class="el" href="classDJLSDecoderRegistration.html" title="singleton class that registers decoders for all supported JPEG-LS processes.">DJLSDecoderRegistration</a></b> </li>
<li><b><a class="el" href="classDJLSEncoderBase.html" title="abstract codec class for JPEG-LS encoders.">DJLSEncoderBase</a></b> </li>
<li><b><a class="el" href="classDJLSDecoderBase.html" title="abstract codec class for JPEG-LS decoders.">DJLSDecoderBase</a></b> </li>
</ul>
<h1><a class="anchor" id="Tools"></a>
Tools</h1>
<p>This module contains the following command line tools: </p>
<ul>
<li><a class="el" href="dcmcjpls.html">dcmcjpls: Encode DICOM file to JPEG-LS transfer syntax</a> </li>
<li><a class="el" href="dcmdjpls.html">dcmdjpls: Decode JPEG-LS compressed DICOM file</a> </li>
<li><a class="el" href="dcml2pnm.html">dcml2pnm: Convert DICOM images to PGM/PPM, PNG, TIFF or BMP</a></li>
</ul>
<h1><a class="anchor" id="Examples"></a>
Examples</h1>
<p>The following example shows how to compress a DICOM image file with lossless JPEG-LS:</p>
<div class="fragment"><div class="line"><a class="code" href="classDJLSEncoderRegistration.html#a5902f272b0a2d7a6dc5fe217cc77a8e0" title="registers encoders for all supported JPEG-LS processes.">DJLSEncoderRegistration::registerCodecs</a>(); <span class="comment">// register JPEG codecs</span></div>
<div class="line"><a class="code" href="classDcmFileFormat.html" title="a class handling the DICOM file format (with meta header)">DcmFileFormat</a> fileformat;</div>
<div class="line"><span class="keywordflow">if</span> (fileformat.<a class="code" href="classDcmFileFormat.html#acdc6fd191186314f1e135a2fb7579ee8" title="load object from a DICOM file.">loadFile</a>(<span class="stringliteral">&quot;test.dcm&quot;</span>).<a class="code" href="classOFCondition.html#a126c4a086f8b18d34587bfc0aa9ebd7b" title="returns true if status is OK">good</a>())</div>
<div class="line">{</div>
<div class="line">  <a class="code" href="classDcmDataset.html" title="a class handling the DICOM dataset format (files without meta header)">DcmDataset</a> *dataset = fileformat.<a class="code" href="classDcmFileFormat.html#aebe92814377deae403b3d0d7765e6c43" title="get dataset part of the fileformat">getDataset</a>();</div>
<div class="line">  <a class="code" href="classDcmItem.html" title="a class representing a list of DICOM elements in which each element has a different tag and elements ...">DcmItem</a> *metaInfo = fileformat.<a class="code" href="classDcmFileFormat.html#a30ee5b880262384a3ec7ab8751a7cca4" title="get file meta information header part of the fileformat">getMetaInfo</a>();</div>
<div class="line">  <a class="code" href="classDJLSRepresentationParameter.html" title="representation parameter for JPEG-LS">DJLSRepresentationParameter</a> rp(0, OFTrue); <span class="comment">// parameters for lossless</span></div>
<div class="line"></div>
<div class="line">  <span class="comment">// this causes the lossless JPEG-LS version of the dataset to be created</span></div>
<div class="line">  dataset-&gt;<a class="code" href="classDcmDataset.html#a208bc46542bdcbc2f2e81b61d33cf2a2" title="select a specific representation (compressed or uncompressed) of the dataset and create the represent...">chooseRepresentation</a>(EXS_JPEGLSLossless, &amp;params);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// check if everything went well</span></div>
<div class="line">  <span class="keywordflow">if</span> (dataset-&gt;<a class="code" href="classDcmDataset.html#a7e0ddd6e9d77d1afe436f96fcfb49457" title="check if this DICOM object can be encoded in the given transfer syntax.">canWriteXfer</a>(EXS_JPEGLSLossless))</div>
<div class="line">  {</div>
<div class="line">    <span class="comment">// force the meta-header UIDs to be re-generated when storing the file</span></div>
<div class="line">    <span class="comment">// since the UIDs in the data set may have changed</span></div>
<div class="line">    <span class="keyword">delete</span> metaInfo-&gt;<a class="code" href="classDcmItem.html#ad052b39391e051db356eaa2c8d319c25" title="remove element from list.">remove</a>(DCM_MediaStorageSOPClassUID);</div>
<div class="line">    <span class="keyword">delete</span> metaInfo-&gt;<a class="code" href="classDcmItem.html#ad052b39391e051db356eaa2c8d319c25" title="remove element from list.">remove</a>(DCM_MediaStorageSOPInstanceUID);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// store in lossless JPEG format</span></div>
<div class="line">    fileformat.<a class="code" href="classDcmFileFormat.html#a2be2d46f7dc9466125ccb9782281a5d2" title="save object to a DICOM file.">saveFile</a>(<span class="stringliteral">&quot;test_jpls.dcm&quot;</span>, EXS_JPEGLSLossless);</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line"><a class="code" href="classDJLSEncoderRegistration.html#a12204b61900413f5943cb64086f8bf3c" title="deregisters encoders.">DJLSEncoderRegistration::cleanup</a>(); <span class="comment">// deregister JPEG-LS codecs</span></div>
</div><!-- fragment --><p>The following example shows how to decompress a JPEG-LS compressed DICOM image file:</p>
<div class="fragment"><div class="line"><a class="code" href="classDJLSDecoderRegistration.html#ae9416918c82593438d1bfd279c7cb5ff" title="registers decoder for all supported JPEG-LS processes.">DJLSDecoderRegistration::registerCodecs</a>(); <span class="comment">// register JPEG-LS codecs</span></div>
<div class="line"><a class="code" href="classDcmFileFormat.html" title="a class handling the DICOM file format (with meta header)">DcmFileFormat</a> fileformat;</div>
<div class="line"><span class="keywordflow">if</span> (fileformat.<a class="code" href="classDcmFileFormat.html#acdc6fd191186314f1e135a2fb7579ee8" title="load object from a DICOM file.">loadFile</a>(<span class="stringliteral">&quot;test_jpls.dcm&quot;</span>).<a class="code" href="classOFCondition.html#a126c4a086f8b18d34587bfc0aa9ebd7b" title="returns true if status is OK">good</a>())</div>
<div class="line">{</div>
<div class="line">  <a class="code" href="classDcmDataset.html" title="a class handling the DICOM dataset format (files without meta header)">DcmDataset</a> *dataset = fileformat.<a class="code" href="classDcmFileFormat.html#aebe92814377deae403b3d0d7765e6c43" title="get dataset part of the fileformat">getDataset</a>();</div>
<div class="line"></div>
<div class="line">  <span class="comment">// decompress data set if compressed</span></div>
<div class="line">  dataset-&gt;<a class="code" href="classDcmDataset.html#a208bc46542bdcbc2f2e81b61d33cf2a2" title="select a specific representation (compressed or uncompressed) of the dataset and create the represent...">chooseRepresentation</a>(EXS_LittleEndianExplicit, NULL);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// check if everything went well</span></div>
<div class="line">  <span class="keywordflow">if</span> (dataset-&gt;<a class="code" href="classDcmDataset.html#a7e0ddd6e9d77d1afe436f96fcfb49457" title="check if this DICOM object can be encoded in the given transfer syntax.">canWriteXfer</a>(EXS_LittleEndianExplicit))</div>
<div class="line">  {</div>
<div class="line">    fileformat.<a class="code" href="classDcmFileFormat.html#a2be2d46f7dc9466125ccb9782281a5d2" title="save object to a DICOM file.">saveFile</a>(<span class="stringliteral">&quot;test_decompressed.dcm&quot;</span>, EXS_LittleEndianExplicit);</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line"><a class="code" href="classDJLSDecoderRegistration.html#a8eaf848b1bf4ac968d2771c4eb6c48e8" title="deregisters decoders.">DJLSDecoderRegistration::cleanup</a>(); <span class="comment">// deregister JPEG-LS codecs</span></div>
</div><!-- fragment --> </div></div><!-- contents -->
<p>
<hr>
<small>
Generated on Thu Jul 23 2015 for <a href="http://dicom.offis.de/dcmtk">OFFIS DCMTK</a> Version 3.6.0 by <a href="http://www.doxygen.org/">Doxygen</a> 1.8.3.1
</small>
