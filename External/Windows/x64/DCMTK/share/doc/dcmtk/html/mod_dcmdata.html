<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>OFFIS DCMTK: dcmdata: a data encoding/decoding library and utility apps</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">OFFIS DCMTK
   &#160;<span id="projectnumber">Version 3.6.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">dcmdata: a data encoding/decoding library and utility apps </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This module contains classes to manage DICOM data structures and files. It also provides support for DICOMDIR files as required for DICOM storage media.</p>
<p>The main interface classes are: </p>
<ul>
<li><b><a class="el" href="classDcmFileFormat.html" title="a class handling the DICOM file format (with meta header)">DcmFileFormat</a></b> </li>
<li><b><a class="el" href="classDcmDataset.html" title="a class handling the DICOM dataset format (files without meta header)">DcmDataset</a></b> </li>
<li><b><a class="el" href="classDcmItem.html" title="a class representing a list of DICOM elements in which each element has a different tag and elements ...">DcmItem</a></b> </li>
<li><b><a class="el" href="classDcmElement.html" title="abstract base class for all DICOM elements">DcmElement</a></b> </li>
</ul>
<h1><a class="anchor" id="Tools"></a>
Tools</h1>
<p>This module contains the following command line tools: </p>
<ul>
<li><a class="el" href="dcm2pdf.html">dcm2pdf: Extract PDF file from DICOM encapsulated PDF</a> </li>
<li><a class="el" href="dcm2xml.html">dcm2xml: Convert DICOM file and data set to XML</a> </li>
<li><a class="el" href="dcmconv.html">dcmconv: Convert DICOM file encoding</a> </li>
<li><a class="el" href="dcmcrle.html">dcmcrle: Encode DICOM file to RLE transfer syntax</a> </li>
<li><a class="el" href="dcmdrle.html">dcmdrle: Decode RLE-compressed DICOM file</a> </li>
<li><a class="el" href="dcmdump.html">dcmdump: Dump DICOM file and data set</a> </li>
<li><a class="el" href="dcmftest.html">dcmftest: Test if file uses DICOM part 10 format</a> </li>
<li><a class="el" href="dcmgpdir.html">dcmgpdir: Create a general purpose DICOMDIR</a> </li>
<li><a class="el" href="dcmodify.html">dcmodify: Modify DICOM files</a> </li>
<li><a class="el" href="dump2dcm.html">dump2dcm: Convert ASCII dump to DICOM file</a> </li>
<li><a class="el" href="img2dcm.html">img2dcm: Convert standard image formats into DICOM format</a> </li>
<li><a class="el" href="pdf2dcm.html">pdf2dcm: Convert PDF file to DICOM</a> </li>
<li><a class="el" href="xml2dcm.html">xml2dcm: Convert XML document to DICOM file or data set</a></li>
</ul>
<h1><a class="anchor" id="Files"></a>
Files</h1>
<p>The following file provides further documentation: </p>
<ul>
<li><a class="el" href="file_datadict.html">datadict.txt file</a></li>
</ul>
<h1><a class="anchor" id="Examples"></a>
Examples</h1>
<p>The following example shows how to load a DICOM file and output the patient's name:</p>
<div class="fragment"><div class="line"><a class="code" href="classDcmFileFormat.html" title="a class handling the DICOM file format (with meta header)">DcmFileFormat</a> fileformat;</div>
<div class="line"><a class="code" href="classOFCondition.html" title="General purpose class for condition codes.">OFCondition</a> status = fileformat.<a class="code" href="classDcmFileFormat.html#acdc6fd191186314f1e135a2fb7579ee8" title="load object from a DICOM file.">loadFile</a>(<span class="stringliteral">&quot;test.dcm&quot;</span>);</div>
<div class="line"><span class="keywordflow">if</span> (status.<a class="code" href="classOFCondition.html#a126c4a086f8b18d34587bfc0aa9ebd7b" title="returns true if status is OK">good</a>())</div>
<div class="line">{</div>
<div class="line">  <a class="code" href="classOFString.html" title="a simple string class that implements a subset of std::string.">OFString</a> patientName;</div>
<div class="line">  <span class="keywordflow">if</span> (fileformat.<a class="code" href="classDcmFileFormat.html#aebe92814377deae403b3d0d7765e6c43" title="get dataset part of the fileformat">getDataset</a>()-&gt;<a class="code" href="classDcmItem.html#a68b4831354e6666e7cc9ef594a919e10" title="find element and get value as a C++ string (only one component).">findAndGetOFString</a>(DCM_PatientName, patientName).<a class="code" href="classOFCondition.html#a126c4a086f8b18d34587bfc0aa9ebd7b" title="returns true if status is OK">good</a>())</div>
<div class="line">  {</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Patient&#39;s Name: &quot;</span> &lt;&lt; patientName &lt;&lt; endl;</div>
<div class="line">  } <span class="keywordflow">else</span></div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">&quot;Error: cannot access Patient&#39;s Name!&quot;</span> &lt;&lt; endl;</div>
<div class="line">} <span class="keywordflow">else</span></div>
<div class="line">  cerr &lt;&lt; <span class="stringliteral">&quot;Error: cannot read DICOM file (&quot;</span> &lt;&lt; status.<a class="code" href="classOFCondition.html#a883271bc0a85ab2e68f09c7b08b72324" title="returns the error message text for this object.">text</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div>
</div><!-- fragment --><p>The following example shows how to create a DICOM dataset and save it to a file:</p>
<div class="fragment"><div class="line"><span class="keywordtype">char</span> uid[100];</div>
<div class="line"><a class="code" href="classDcmFileFormat.html" title="a class handling the DICOM file format (with meta header)">DcmFileFormat</a> fileformat;</div>
<div class="line"><a class="code" href="classDcmDataset.html" title="a class handling the DICOM dataset format (files without meta header)">DcmDataset</a> *dataset = fileformat.<a class="code" href="classDcmFileFormat.html#aebe92814377deae403b3d0d7765e6c43" title="get dataset part of the fileformat">getDataset</a>();</div>
<div class="line">dataset-&gt;<a class="code" href="classDcmItem.html#a892ea7a8dcd14fb2780e6941b875abcf" title="create a new element, put specified value to it and insert the element into the dataset/item.">putAndInsertString</a>(DCM_SOPClassUID, UID_SecondaryCaptureImageStorage);</div>
<div class="line">dataset-&gt;<a class="code" href="classDcmItem.html#a892ea7a8dcd14fb2780e6941b875abcf" title="create a new element, put specified value to it and insert the element into the dataset/item.">putAndInsertString</a>(DCM_SOPInstanceUID, dcmGenerateUniqueIdentifier(uid, SITE_INSTANCE_UID_ROOT));</div>
<div class="line">dataset-&gt;<a class="code" href="classDcmItem.html#a892ea7a8dcd14fb2780e6941b875abcf" title="create a new element, put specified value to it and insert the element into the dataset/item.">putAndInsertString</a>(DCM_PatientName, <span class="stringliteral">&quot;Doe^John&quot;</span>);</div>
<div class="line"><span class="comment">/* ... */</span></div>
<div class="line">dataset-&gt;<a class="code" href="classDcmItem.html#a5501287a12c98a510dc1f990c5174b58" title="create a new element, put specified value to it and insert the element into the dataset/item.">putAndInsertUint8Array</a>(DCM_PixelData, pixelData, pixelLength);</div>
<div class="line"><a class="code" href="classOFCondition.html" title="General purpose class for condition codes.">OFCondition</a> status = fileformat.<a class="code" href="classDcmFileFormat.html#a2be2d46f7dc9466125ccb9782281a5d2" title="save object to a DICOM file.">saveFile</a>(<span class="stringliteral">&quot;test.dcm&quot;</span>, EXS_LittleEndianExplicit);</div>
<div class="line"><span class="keywordflow">if</span> (status.<a class="code" href="classOFCondition.html#a2e3d07432018354bd48d9f140b0b3715" title="returns true if status is not OK, i. e. error or failure">bad</a>())</div>
<div class="line">  cerr &lt;&lt; <span class="stringliteral">&quot;Error: cannot write DICOM file (&quot;</span> &lt;&lt; status.<a class="code" href="classOFCondition.html#a883271bc0a85ab2e68f09c7b08b72324" title="returns the error message text for this object.">text</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div>
</div><!-- fragment --><p>The following example shows how to create a general purpose DICOMDIR from multiple files:</p>
<div class="fragment"><div class="line"><a class="code" href="classDicomDirInterface.html" title="An interface class for simplified creation of a DICOMDIR.">DicomDirInterface</a> dicomdir;</div>
<div class="line"><a class="code" href="classOFCondition.html" title="General purpose class for condition codes.">OFCondition</a> status = dicomdir.<a class="code" href="classDicomDirInterface.html#ae2e0bad91aaa86370feef08160c6b016" title="create a new DICOMDIR object.">createNewDicomDir</a>();</div>
<div class="line"><span class="keywordflow">if</span> (status.<a class="code" href="classOFCondition.html#a126c4a086f8b18d34587bfc0aa9ebd7b" title="returns true if status is OK">good</a>())</div>
<div class="line">{</div>
<div class="line">  <span class="keywordflow">while</span> ( <span class="comment">/* there are files */</span> )</div>
<div class="line">    dicomdir.<a class="code" href="classDicomDirInterface.html#a5863647fbdbb4b360e1414d344ba952f" title="add specified DICOM file to the current DICOMDIR.">addDicomFile</a>( <span class="comment">/* current filename */</span> );</div>
<div class="line">  status = dicomdir.<a class="code" href="classDicomDirInterface.html#a8c11f7d95e611aa238ca2347cccb8da6" title="write the current DICOMDIR object to file.">writeDicomDir</a>();</div>
<div class="line">  <span class="keywordflow">if</span> (status.<a class="code" href="classOFCondition.html#a2e3d07432018354bd48d9f140b0b3715" title="returns true if status is not OK, i. e. error or failure">bad</a>())</div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">&quot;Error: cannot write DICOMDIR (&quot;</span> &lt;&lt; status.<a class="code" href="classOFCondition.html#a883271bc0a85ab2e68f09c7b08b72324" title="returns the error message text for this object.">text</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div>
<div class="line">} <span class="keywordflow">else</span></div>
<div class="line">  cerr &lt;&lt; <span class="stringliteral">&quot;Error: cannot create DICOMDIR (&quot;</span> &lt;&lt; status.<a class="code" href="classOFCondition.html#a883271bc0a85ab2e68f09c7b08b72324" title="returns the error message text for this object.">text</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div>
</div><!-- fragment --> </div></div><!-- contents -->
<p>
<hr>
<small>
Generated on Thu Jul 23 2015 for <a href="http://dicom.offis.de/dcmtk">OFFIS DCMTK</a> Version 3.6.0 by <a href="http://www.doxygen.org/">Doxygen</a> 1.8.3.1
</small>
